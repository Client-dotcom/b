print("PhantomXPro")

-- Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„ØªØ­Ù…ÙŠÙ„ WindUI
local success, result = pcall(function()
    local source = game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua", true)
    if source then
        local loaded = loadstring(source)
        if loaded then
            return loaded()
        end
    end
    return nil
end)

if success and result then
    local WindUI = result
    local Players = game:GetService("Players")
    local Workspace = game:GetService("Workspace")
    local player = Players.LocalPlayer

    -- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ© ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
    local languageChoice = nil
    WindUI:Popup({
        Title = "PhantomXPro - Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ© / Select Language",
        Icon = "globe",
        Content = "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù„ØºØ© Ø§Ù„Ø³ÙƒØ±Ø¨Øª\nPlease select script language",
        Buttons = {
            {
                Title = "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
                Icon = "flag",
                Variant = "Primary",
                Callback = function()
                    languageChoice = "Arabic"
                end
            },
            {
                Title = "English",
                Icon = "flag",
                Variant = "Primary",
                Callback = function()
                    languageChoice = "English"
                end
            }
        }
    })

    -- Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø­ØªÙ‰ ÙŠØ®ØªØ§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù„ØºØ©
    repeat task.wait() until languageChoice ~= nil

    -- Ù†ØµÙˆØµ Ø­Ø³Ø¨ Ø§Ù„Ù„ØºØ©
    local texts = {
        Arabic = {
            welcomeTitle = "PhantomXPro",
            welcomeContent = "âš ï¸ ØªÙ†Ø¨ÙŠÙ‡ Ù‡Ø§Ù…:\nØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨Øª ÙŠÙƒÙˆÙ† Ø¹Ù„Ù‰ Ù…Ø³Ø¤ÙˆÙ„ÙŠØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØ§Ù„ÙƒØ§Ù…Ù„Ø©ØŒ ÙˆÙ†Ø­Ù† ØºÙŠØ± Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ† Ø¹Ù† Ø£ÙŠ Ø¶Ø±Ø±. Ù…Ø¹ Ø£Ù†Ù†Ø§ Ù†Ø¹Ù…Ù„ Ø¹Ù„Ù‰ ØªÙ‚Ø¯ÙŠÙ… Ø³ÙƒØ±Ø¨Øª Ø¨Ø£Ø¹Ù„Ù‰ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ù…Ù…ÙƒÙ†Ø©ØŒ Ù‡Ø°Ø§ ØªØ­Ø°ÙŠØ± Ø§Ø­ØªØ±Ø§Ø·ÙŠ ÙÙŠ Ø­Ø§Ù„ Ø­Ø¯ÙˆØ« Ø£ÙŠ Ù…Ø´ÙƒÙ„Ø© ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹Ø©.Ù†ØªÙ…Ù†ÙŠ Ù„ÙƒÙ… ØªØ¬Ø±Ø¨Ø© Ù…Ù…ØªØ¹Ø© â¤",
            discordTitle = "ğŸ® Ø§Ù†Ø¶Ù… Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯",
            discordContent = "Ø§Ù†Ø¶Ù… Ù„Ù„Ø³ÙŠØ±Ú¤Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ Ù„Ù„Ø³ÙƒØ±Ø¨Øª!\nâ€¢ Ø¢Ø®Ø± Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª\nâ€¢ Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙ†ÙŠØ©\nâ€¢ Ø¥Ù‚ØªØ±Ø§Ø­Ø§Øª ÙˆØªØ­Ø³ÙŠÙ†Ø§Øª\nâ€¢ ØªØ­Ø¯ÙŠØ«Ø§Øª Ø£Ù…Ø§Ù†\n\nØ§Ù„Ø±Ø§Ø¨Ø·: https://discord.gg/CgUa36sPNs",
            okButton = "Ù…ÙˆØ§ÙÙ‚",
            copyButton = "Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨Øª",
            copiedTitle = "âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·",
            copiedContent = "ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨Øª!\nØ±Ø§Ø¨Ø· Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ ÙÙŠ Ø§Ù„Ø­Ø§ÙØ¸Ø©",
            windowTitle = "PhantomXPro",
            settingsTab = "Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
            developerTab = "Ø§Ù„Ù…Ø·ÙˆØ±",
            mainTab = "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
            themeDropdown = "Ø§Ø®ØªØ± Ø§Ù„Ø³Ù…Ø©",
            themeValues = {"Ø¯Ø§ÙƒÙ† ğŸŒ™", "ÙØ§ØªØ­ â˜€ï¸", "Ø£Ø²Ø±Ù‚ ğŸ”µ", "Ø£Ø®Ø¶Ø± ğŸ’š", "Ø£Ø­Ù…Ø± ğŸ”´"},
            updateButton = "ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³ÙƒØ±Ø¨Øª",
            updateTitle = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«",
            updateContent = "Ø¨ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨Øª...",
            closeButton = "Ø£Ù‚ÙÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨Øª",
            closeTitle = "ØªÙ… Ø§Ù„Ø¥ØºÙ„Ø§Ù‚",
            closeContent = "ØªÙ… Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø¨Ù†Ø¬Ø§Ø­",
            discordButton = "Ø§Ù†Ø¶Ù… Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯",
            discordCopied = "âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·",
            discordCopiedContent = "Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ ÙÙŠ Ø§Ù„Ø­Ø§ÙØ¸Ø©",
            developerName = "Cypher",
            developerDesc = "Ù…Ø·ÙˆØ± Ø³ÙƒØ±Ø¨ØªØ§Øª Ø±ÙˆØ¨Ù„ÙˆÙƒØ³",
            versionButton = "Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.1.0",
            contactButton = "ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø·ÙˆØ±",
            contactCopied = "âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®",
            contactContent = "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: cypherclient",
            finalTitle = "Ø£Ù‡Ù„Ø§Ù‹ ÙˆØ³Ù‡Ù„Ø§Ù‹ ÙÙŠ PhantomXPro ğŸŒŸ",
            finalContent = "Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø´ØºÙ‘Ø§Ù„ ÙˆØ¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…!\nØªÙ…ØªØ¹ Ø¨Ù…Ù…ÙŠØ²Ø§ØªÙ†Ø§ Ø§Ù„Ø­ØµØ±ÙŠØ© ğŸš€",
            
            -- Main Tab Texts
            espButton = "ØªØ´ØºÙŠÙ„ ESP",
            espButtonOff = "Ø¥ÙŠÙ‚Ø§Ù ESP",
            hitboxButton = "ØªØ´ØºÙŠÙ„ Hitbox",
            hitboxButtonOff = "Ø¥ÙŠÙ‚Ø§Ù Hitbox",
            hitboxSizeSlider = "Ø­Ø¬Ù… Ø§Ù„Ù‡ÙŠØªØ¨ÙˆÙƒØ³",
            flightButton = "ØªØ´ØºÙŠÙ„ Ø§Ù„Ø·ÙŠØ±Ø§Ù†",
            flightButtonOff = "Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø·ÙŠØ±Ø§Ù†",
            espActive = "ESP Ù…ÙØ¹Ù‘Ù„",
            espInactive = "ESP ØºÙŠØ± Ù…ÙØ¹Ù‘Ù„",
            hitboxActive = "Hitbox Ù…ÙØ¹Ù‘Ù„",
            hitboxInactive = "Hitbox ØºÙŠØ± Ù…ÙØ¹Ù‘Ù„",
            flightActive = "Ø§Ù„Ø·ÙŠØ±Ø§Ù† Ù…ÙØ¹Ù‘Ù„",
            flightInactive = "Ø§Ù„Ø·ÙŠØ±Ø§Ù† ØºÙŠØ± Ù…ÙØ¹Ù‘Ù„",
            espCleaned = "ØªÙ… ØªÙ†Ø¸ÙŠÙ ESP",
            hitboxCleaned = "ØªÙ… ØªÙ†Ø¸ÙŠÙ Hitbox"
        },
        English = {
            welcomeTitle = "PhantomXPro",
            welcomeContent = "âš ï¸ Important Warning:\nUsing the script is at your own personal and full responsibility, and we are not responsible for any damage. While we strive to provide a script with the highest possible security standards, this is a precautionary warning in case any unexpected problem occurs. We wish you a great experience â¤",
            discordTitle = "ğŸ® Join Discord Server",
            discordContent = "Join the official script server!\nâ€¢ Latest updates\nâ€¢ Technical help\nâ€¢ Suggestions and improvements\nâ€¢ Security updates\n\nLink: https://discord.gg/CgUa36sPNs",
            okButton = "OK",
            copyButton = "Copy Link & Activate Script",
            copiedTitle = "âœ… Link Copied",
            copiedContent = "Script activated!\nDiscord link in clipboard",
            windowTitle = "PhantomXPro",
            settingsTab = "Settings",
            developerTab = "Developer",
            mainTab = "Main",
            themeDropdown = "Select Theme",
            themeValues = {"Dark ğŸŒ™", "Light â˜€ï¸", "Blue ğŸ”µ", "Green ğŸ’š", "Red ğŸ”´"},
            updateButton = "Update Script",
            updateTitle = "Updating",
            updateContent = "Reloading script...",
            closeButton = "Close Script",
            closeTitle = "Closed",
            closeContent = "Script closed successfully",
            discordButton = "Join Discord Server",
            discordCopied = "âœ… Link Copied",
            discordCopiedContent = "Discord link in clipboard",
            developerName = "Cypher",
            developerDesc = "Roblox Script Developer",
            versionButton = "Version 2.1.0",
            contactButton = "Contact Developer",
            contactCopied = "âœ… Copied",
            contactContent = "Username: cypherclient",
            finalTitle = "Welcome to PhantomXPro ğŸŒŸ",
            finalContent = "Script is running and ready to use!\nEnjoy our exclusive features ğŸš€",
            
            -- Main Tab Texts
            espButton = "Enable ESP",
            espButtonOff = "Disable ESP",
            hitboxButton = "Enable Hitbox",
            hitboxButtonOff = "Disable Hitbox",
            hitboxSizeSlider = "Hitbox Size",
            flightButton = "Enable Flight",
            flightButtonOff = "Disable Flight",
            espActive = "ESP Active",
            espInactive = "ESP Inactive",
            hitboxActive = "Hitbox Active",
            hitboxInactive = "Hitbox Inactive",
            flightActive = "Flight Active",
            flightInactive = "Flight Inactive",
            espCleaned = "ESP cleaned",
            hitboxCleaned = "Hitbox cleaned"
        }
    }

    local t = texts[languageChoice]

    WindUI.TransparencyValue = 0.5
    WindUI:SetTheme("Dark")

    -- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¨ÙˆØ¨ Ø£Ø¨ Ø§Ù„ØªØ±Ø­ÙŠØ¨ÙŠØ©
    WindUI:Popup({
        Title = t.welcomeTitle,
        Icon = "crown",
        Content = t.welcomeContent,
        Buttons = {
            {
                Title = t.okButton,
                Icon = "arrow-right",
                Variant = "Primary",
                Callback = function() end
            }
        }
    })

    -- Ù†Ø§ÙØ°Ø© Discord Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
    task.wait(5)
    WindUI:Popup({
        Title = t.discordTitle,
        Icon = "message-circle",
        Content = t.discordContent,
        Buttons = {
            {
                Title = t.copyButton,
                Icon = "copy",
                Variant = "Primary",
                Callback = function()
                    setclipboard("https://discord.gg/CgUa36sPNs")
                    WindUI:Notify({
                        Title = t.copiedTitle,
                        Content = t.copiedContent,
                        Duration = 4
                    })
                end
            }
        }
    })

    -- Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    local Window = WindUI:CreateWindow({
        Title = t.windowTitle,
        Icon = "crown", 
        Author = "By_Cypher",
        Folder = "PhantomXPro",
        Size = UDim2.fromOffset(800, 650),
        Theme = "Dark",
        User = {
            Enabled = true,
            Anonymous = false,
            Callback = function()
                WindUI:Notify({
                    Title = languageChoice == "Arabic" and "Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ" or "Your Info",
                    Content = (languageChoice == "Arabic" and "Ø§Ø³Ù…Ùƒ: " or "Name: ") .. player.Name,
                    Duration = 3
                })
            end
        },
        SideBarWidth = 250,
        ScrollBarEnabled = true
    })

    -- Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    local Sections = {
        Main = Window:Section({ Title = t.mainTab, Opened = true }),
        Settings = Window:Section({ Title = t.settingsTab }),
        Credits = Window:Section({ Title = t.developerTab })
    }

    -- Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
    local Tabs = {
        Main = Sections.Main:Tab({ Title = t.mainTab, Icon = "home" }),
        Config = Sections.Settings:Tab({ Title = t.settingsTab, Icon = "settings" }),
        Developer = Sections.Credits:Tab({ Title = t.developerTab, Icon = "user" })
    }

    -- =============================================
    -- Ù†Ø¸Ø§Ù… ESP (Ù…Ø¯Ù…Ø¬)
    -- =============================================
    local espEnabled = false
    local hitboxEnabled = false
    local flightEnabled = false
    local hitboxSize = 20

    -- Ø¯Ø§Ù„Ø© Ù„ØªÙ†Ø¸ÙŠÙ ESP
    local function cleanESP()
        for _, obj in pairs(Workspace:GetChildren()) do
            if obj.Name:find("_EnemyChams") or obj.Name:find("_EnemyName") then
                obj:Destroy()
            end
        end
    end

    -- Ø¯Ø§Ù„Ø© Ù„ØªÙ†Ø¸ÙŠÙ Hitbox
    local function cleanHitbox()
        for _, otherPlayer in pairs(Players:GetPlayers()) do
            if otherPlayer.Character then
                local hrp = otherPlayer.Character:FindFirstChild("HumanoidRootPart")
                if hrp and hrp:IsA("BasePart") then
                    hrp.Size = Vector3.new(2, 1, 1)
                    hrp.Transparency = 0
                    hrp.CanCollide = true
                    hrp.Color = Color3.fromRGB(255, 255, 255)
                end
            end
        end
    end

    -- Ø¯Ø§Ù„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨
    local function getPlayerInfo(targetPlayer)
        local info = {}
        
        local success, attributes = pcall(function()
            return targetPlayer:GetAttributes()
        end)
        
        if success then
            for attrName, attrValue in pairs(attributes) do
                local attrLower = tostring(attrName):lower()
                if attrLower == "team" then 
                    info.team = tostring(attrValue)
                elseif attrLower == "map" then 
                    info.map = tostring(attrValue)
                end
            end
        end
        
        return info
    end

    -- Ø¯Ø§Ù„Ø© Ù„Ø¹Ù…Ù„ ESP Ù„Ù„Ø¹Ø¯Ùˆ
    local function makeEnemyChams(enemyPlayer, isEnemy, myTeam, enemyTeam)
        if not enemyPlayer or enemyPlayer == player then return end
        
        local function applyChams(char)
            if not char then return end
            
            -- ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù‚Ø¯ÙŠÙ…
            local oldChams = Workspace:FindFirstChild(enemyPlayer.Name .. "_EnemyChams")
            local oldName = Workspace:FindFirstChild(enemyPlayer.Name .. "_EnemyName")
            if oldChams then oldChams:Destroy() end
            if oldName then oldName:Destroy() end
            
            if not isEnemy then return end
            
            task.wait(0.3)
            
            local hrp = char:FindFirstChild("HumanoidRootPart")
            if not hrp then return end
            
            -- ØªØ­Ø¯ÙŠØ¯ Ù„ÙˆÙ† Chams Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ø¯Ùˆ
            local chamColor
            if enemyTeam and enemyTeam:find("Blue") then
                chamColor = Color3.fromRGB(0, 100, 255) -- Ø£Ø²Ø±Ù‚ Ù„Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚
            else
                chamColor = Color3.fromRGB(255, 50, 50)  -- Ø£Ø­Ù…Ø± Ù„Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±
            end
            
            -- Chams Ù„Ù„Ø¹Ø¯Ùˆ
            local highlight = Instance.new("Highlight")
            highlight.Name = enemyPlayer.Name .. "_EnemyChams"
            highlight.Adornee = char
            highlight.FillColor = chamColor
            highlight.FillTransparency = 0.2
            highlight.OutlineColor = chamColor
            highlight.OutlineTransparency = 0
            highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
            highlight.Parent = Workspace
            
            -- Ø§Ø³Ù… Ø§Ù„Ø¹Ø¯Ùˆ Ù…Ø¹ Ù„ÙˆÙ† Ø§Ù„ÙØ±ÙŠÙ‚
            local billboard = Instance.new("BillboardGui")
            billboard.Name = enemyPlayer.Name .. "_EnemyName"
            billboard.Size = UDim2.new(0, 120, 0, 30)
            billboard.StudsOffset = Vector3.new(0, 4, 0)
            billboard.AlwaysOnTop = true
            billboard.Adornee = hrp
            billboard.Parent = Workspace
            
            local label = Instance.new("TextLabel")
            label.Size = UDim2.new(1, 0, 1, 0)
            label.BackgroundTransparency = 1
            label.Text = enemyPlayer.Name
            label.TextColor3 = chamColor
            label.TextSize = 12
            label.Font = Enum.Font.GothamBold
            label.TextStrokeTransparency = 0.5
            label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
            label.Parent = billboard
        end
        
        if enemyPlayer.Character then
            applyChams(enemyPlayer.Character)
        end
        
        enemyPlayer.CharacterAdded:Connect(function(char)
            applyChams(char)
        end)
    end

    -- Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ Ù„Ø§Ø¹Ø¨ Ù…Ø¹Ø§Ø¯ÙŠ
    local function checkIfEnemy(myInfo, enemyInfo)
        local myTeam = myInfo.team or ""
        local enemyTeam = enemyInfo.team or ""
        local myMap = myInfo.map or ""
        local enemyMap = enemyInfo.map or ""
        
        -- Ø¥Ø°Ø§ Ù„ÙŠØ³ ÙÙŠ Ù†ÙØ³ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
        if myMap ~= "" and enemyMap ~= "" and myMap ~= enemyMap then
            return false
        end
        
        -- Ø¥Ø°Ø§ ÙÙŠ ÙØ±ÙŠÙ‚ Ù…Ø®ØªÙ„Ù
        if myTeam ~= "" and enemyTeam ~= "" and myTeam ~= enemyTeam then
            return true
        end
        
        return false
    end

    -- Ø¯Ø§Ù„Ø© Ù„ØªØ´ØºÙŠÙ„ ESP
    local function startESP()
        cleanESP()
        
        local myInfo = getPlayerInfo(player)
        
        -- ÙØ­Øµ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
        for _, otherPlayer in pairs(Players:GetPlayers()) do
            if otherPlayer ~= player then
                local enemyInfo = getPlayerInfo(otherPlayer)
                local isEnemy = checkIfEnemy(myInfo, enemyInfo)
                makeEnemyChams(otherPlayer, isEnemy, myInfo.team, enemyInfo.team)
            end
        end
        
        -- Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¬Ø¯Ø¯
        Players.PlayerAdded:Connect(function(newPlayer)
            if newPlayer ~= player then
                task.wait(1)
                local enemyInfo = getPlayerInfo(newPlayer)
                local isEnemy = checkIfEnemy(myInfo, enemyInfo)
                makeEnemyChams(newPlayer, isEnemy, myInfo.team, enemyInfo.team)
            end
        end)
        
        -- ØªÙ†Ø¸ÙŠÙ Ø¹Ù†Ø¯ Ø®Ø±ÙˆØ¬
        Players.PlayerRemoving:Connect(function(leftPlayer)
            local chams = Workspace:FindFirstChild(leftPlayer.Name .. "_EnemyChams")
            local nameTag = Workspace:FindFirstChild(leftPlayer.Name .. "_EnemyName")
            if chams then chams:Destroy() end
            if nameTag then nameTag:Destroy() end
        end)
        
        -- ØªØ­Ø¯ÙŠØ« Ø¯ÙˆØ±ÙŠ Ù„ØªØºÙŠØ± Ø§Ù„ÙØ±ÙŠÙ‚
        spawn(function()
            while espEnabled do
                task.wait(3)
                
                local newMyInfo = getPlayerInfo(player)
                local teamChanged = (myInfo.team or "") ~= (newMyInfo.team or "")
                local mapChanged = (myInfo.map or "") ~= (newMyInfo.map or "")
                
                if teamChanged or mapChanged then
                    myInfo = newMyInfo
                    
                    -- Ø¥Ø¹Ø§Ø¯Ø© ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù…ÙŠØ¹
                    for _, otherPlayer in pairs(Players:GetPlayers()) do
                        if otherPlayer ~= player then
                            local enemyInfo = getPlayerInfo(otherPlayer)
                            local isEnemy = checkIfEnemy(myInfo, enemyInfo)
                            makeEnemyChams(otherPlayer, isEnemy, myInfo.team, enemyInfo.team)
                        end
                    end
                end
            end
        end)
    end

    -- Ø¯Ø§Ù„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙØ±ÙŠÙ‚ Ø§Ù„Ù„Ø§Ø¹Ø¨
    local function getPlayerTeam(targetPlayer)
        local success, attributes = pcall(function()
            return targetPlayer:GetAttributes()
        end)
        
        if success then
            for attrName, attrValue in pairs(attributes) do
                if tostring(attrName):lower() == "team" then
                    return tostring(attrValue)
                end
            end
        end
        
        if Workspace:FindFirstChild("Arenas") then
            for _, arena in pairs(Workspace.Arenas:GetChildren()) do
                if arena:FindFirstChild("Slots") then
                    if arena.Slots:FindFirstChild("Left") then
                        for i = 1, 4 do
                            local slot = arena.Slots.Left:FindFirstChild(tostring(i))
                            if slot and slot:FindFirstChild("Data") and slot.Data:FindFirstChild("Player") then
                                if slot.Data.Player.Value == targetPlayer then
                                    return "Left"
                                end
                            end
                        end
                    end
                    
                    if arena.Slots:FindFirstChild("Right") then
                        for i = 1, 4 do
                            local slot = arena.Slots.Right:FindFirstChild(tostring(i))
                            if slot and slot:FindFirstChild("Data") and slot.Data:FindFirstChild("Player") then
                                if slot.Data.Player.Value == targetPlayer then
                                    return "Right"
                                end
                            end
                        end
                    end
                end
            end
        end
        
        return nil
    end

    -- Ø¯Ø§Ù„Ø© Ù„Ø¥Ø±Ø¬Ø§Ø¹ HRP Ù„Ø­Ø¬Ù…Ù‡ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ
    local function resetHRP(char)
        if char then
            local hrp = char:FindFirstChild("HumanoidRootPart")
            if hrp and hrp:IsA("BasePart") then
                hrp.Size = Vector3.new(2, 1, 1)
                hrp.Transparency = 0
                hrp.CanCollide = true
                hrp.Color = Color3.fromRGB(255, 255, 255)
            end
        end
    end

    -- Ø¯Ø§Ù„Ø© Ù„ØªØ·Ø¨ÙŠÙ‚ Hitbox Ø¹Ù„Ù‰ Ø¹Ø¯Ùˆ
    local function applyHitboxToEnemy(enemyPlayer, enemyTeam)
        if not enemyPlayer.Character then return end
        
        local hrp = enemyPlayer.Character:FindFirstChild("HumanoidRootPart")
        if not hrp or not hrp:IsA("BasePart") then return end
        
        hrp.CanCollide = false
        
        if hitboxSize == 1 then
            hrp.Size = Vector3.new(2, 1, 1)
            hrp.Transparency = 0.4
        else
            hrp.Size = Vector3.new(hitboxSize, hitboxSize, hitboxSize)
            hrp.Transparency = 0.4
        end
        
        -- Ù„ÙˆÙ† Ø­Ø³Ø¨ Ø§Ù„ÙØ±ÙŠÙ‚
        if enemyTeam == "Right" or (enemyTeam and enemyTeam:find("Blue")) then
            hrp.Color = Color3.fromRGB(0, 100, 255) -- Ø£Ø²Ø±Ù‚
        else
            hrp.Color = Color3.fromRGB(255, 50, 50) -- Ø£Ø­Ù…Ø±
        end
        
        hrp.Material = Enum.Material.Neon
    end

    -- Ø¯Ø§Ù„Ø© Ø±Ø¦ÙŠØ³ÙŠØ© Ù„ØªØ·Ø¨ÙŠÙ‚ Hitbox Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡
    local function updateAllHitboxes()
        if not hitboxEnabled then
            -- Ø¥Ø±Ø¬Ø§Ø¹ Ø¬Ù…ÙŠØ¹ HRP Ù„Ø­Ø¬Ù…Ù‡Ø§ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ
            for _, otherPlayer in pairs(Players:GetPlayers()) do
                if otherPlayer ~= player and otherPlayer.Character then
                    resetHRP(otherPlayer.Character)
                end
            end
            return
        end
        
        -- ÙØ±ÙŠÙ‚ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ
        local currentMyTeam = getPlayerTeam(player)
        if not currentMyTeam then return end
        
        -- ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
        for _, otherPlayer in pairs(Players:GetPlayers()) do
            if otherPlayer ~= player then
                local enemyTeam = getPlayerTeam(otherPlayer)
                
                if enemyTeam and enemyTeam ~= currentMyTeam then
                    -- Ø¹Ø¯Ùˆ - Ù†Ø·Ø¨Ù‚ Hitbox
                    applyHitboxToEnemy(otherPlayer, enemyTeam)
                else
                    -- Ø­Ù„ÙŠÙ Ø£Ùˆ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ - Ù†Ø±Ø¬Ø¹ HRP Ù„Ø­Ø¬Ù…Ù‡ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ
                    if otherPlayer.Character then
                        resetHRP(otherPlayer.Character)
                    end
                end
            end
        end
    end

    -- Ø¯Ø§Ù„Ø© Ù„ØªØ´ØºÙŠÙ„ Hitbox
    local function startHitbox()
        cleanHitbox()
        
        updateAllHitboxes()
        
        -- ØªØ­Ø¯ÙŠØ« Ø¯ÙˆØ±ÙŠ ÙƒÙ„ Ø«Ø§Ù†ÙŠØªÙŠÙ†
        spawn(function()
            while hitboxEnabled do
                task.wait(2)
                updateAllHitboxes()
            end
        end)
        
        -- ØªØ­Ø¯ÙŠØ« Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø´Ø®ØµÙŠØ©
        for _, otherPlayer in pairs(Players:GetPlayers()) do
            if otherPlayer ~= player then
                otherPlayer.CharacterAdded:Connect(function(char)
                    task.wait(0.5)
                    if hitboxEnabled then
                        updateAllHitboxes()
                    end
                end)
                
                otherPlayer.CharacterRemoving:Connect(function(char)
                    resetHRP(char)
                end)
            end
        end
        
        -- Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¬Ø¯Ø¯
        Players.PlayerAdded:Connect(function(newPlayer)
            if newPlayer ~= player then
                newPlayer.CharacterAdded:Connect(function(char)
                    task.wait(0.5)
                    if hitboxEnabled then
                        updateAllHitboxes()
                    end
                end)
                
                newPlayer.CharacterRemoving:Connect(function(char)
                    resetHRP(char)
                end)
                
                task.wait(1)
                if hitboxEnabled then
                    updateAllHitboxes()
                end
            end
        end)
        
        -- ØªÙ†Ø¸ÙŠÙ Ø¹Ù†Ø¯ Ø®Ø±ÙˆØ¬
        Players.PlayerRemoving:Connect(function(leftPlayer)
            if leftPlayer.Character then
                resetHRP(leftPlayer.Character)
            end
        end)
    end

    -- =============================================
    -- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Main)
    -- =============================================
    do
        -- Ø²Ø± ESP
        local espToggle = Tabs.Main:Button({
            Title = t.espButton,
            Icon = "eye",
            Size = "xlarge",
            Callback = function()
                espEnabled = not espEnabled
                
                if espEnabled then
                    startESP()
                    WindUI:Notify({
                        Title = "ESP",
                        Content = t.espActive,
                        Duration = 3
                    })
                    espToggle:Set({Title = t.espButtonOff})
                else
                    cleanESP()
                    WindUI:Notify({
                        Title = "ESP",
                        Content = t.espInactive,
                        Duration = 3
                    })
                    espToggle:Set({Title = t.espButton})
                end
            end
        })

        -- Ø²Ø± Hitbox
        local hitboxToggle = Tabs.Main:Button({
            Title = t.hitboxButton,
            Icon = "target",
            Size = "xlarge",
            Callback = function()
                hitboxEnabled = not hitboxEnabled
                
                if hitboxEnabled then
                    startHitbox()
                    WindUI:Notify({
                        Title = "Hitbox",
                        Content = t.hitboxActive,
                        Duration = 3
                    })
                    hitboxToggle:Set({Title = t.hitboxButtonOff})
                else
                    cleanHitbox()
                    WindUI:Notify({
                        Title = "Hitbox",
                        Content = t.hitboxInactive,
                        Duration = 3
                    })
                    hitboxToggle:Set({Title = t.hitboxButton})
                end
            end
        })

        -- Ø³Ù„Ø§ÙŠØ¯Ø± Ø­Ø¬Ù… Ø§Ù„Ù‡ÙŠØªØ¨ÙˆÙƒØ³
        Tabs.Main:Slider({
            Title = t.hitboxSizeSlider,
            Min = 1,
            Max = 50,
            Default = 20,
            Callback = function(value)
                hitboxSize = math.floor(value)
                if hitboxEnabled then
                    updateAllHitboxes()
                end
            end
        })

        -- Ø²Ø± Ø§Ù„Ø·ÙŠØ±Ø§Ù†
        local flightToggle = Tabs.Main:Button({
            Title = t.flightButton,
            Icon = "wind",
            Size = "xlarge",
            Callback = function()
                flightEnabled = not flightEnabled
                
                if flightEnabled then
                    loadstring(game:HttpGet("https://pastebin.com/raw/5WLxDDvL"))()
                    WindUI:Notify({
                        Title = "Ø§Ù„Ø·ÙŠØ±Ø§Ù†",
                        Content = t.flightActive,
                        Duration = 3
                    })
                    flightToggle:Set({Title = t.flightButtonOff})
                else
                    WindUI:Notify({
                        Title = "Ø§Ù„Ø·ÙŠØ±Ø§Ù†",
                        Content = t.flightInactive,
                        Duration = 3
                    })
                    flightToggle:Set({Title = t.flightButton})
                end
            end
        })
    end

    -- =============================================
    -- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (Config)
    -- =============================================
    do
        Tabs.Config:Dropdown({
            Title = t.themeDropdown,
            Values = t.themeValues,
            Value = t.themeValues[1],
            Size = "xlarge",
            Callback = function(value)
                local themeMap = {
                    [t.themeValues[1]] = "Dark",
                    [t.themeValues[2]] = "Light", 
                    [t.themeValues[3]] = "Sapphire",
                    [t.themeValues[4]] = "Emerald",
                    [t.themeValues[5]] = "Ruby"
                }
                WindUI:SetTheme(themeMap[value] or "Dark")
            end
        })

        -- Ø²Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³ÙƒØ±Ø¨Øª
        Tabs.Config:Button({
            Title = t.updateButton,
            Icon = "refresh-cw",
            Size = "xlarge",
            Callback = function()
                WindUI:Notify({
                    Title = t.updateTitle,
                    Content = t.updateContent,
                    Duration = 3
                })
                wait(2)
                loadstring(game:HttpGet("https://raw.githubusercontent.com/AlphaBay00/Test/main/Faq.txt"))()
            end
        })

        -- Ø²Ø± Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø³ÙƒØ±Ø¨Øª
        Tabs.Config:Button({
            Title = t.closeButton,
            Icon = "power",
            Size = "xlarge",
            Callback = function()
                -- ØªÙ†Ø¸ÙŠÙ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª Ù‚Ø¨Ù„ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚
                if espEnabled then
                    cleanESP()
                end
                if hitboxEnabled then
                    cleanHitbox()
                end
                
                Window:Destroy()
                WindUI:Notify({
                    Title = t.closeTitle,
                    Content = t.closeContent,
                    Duration = 3
                })
            end
        })

        -- Ø²Ø± Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯
        Tabs.Config:Button({
            Title = t.discordButton,
            Icon = "message-circle",
            Size = "xlarge",
            Callback = function()
                setclipboard("https://discord.gg/CgUa36sPNs")
                WindUI:Notify({
                    Title = t.discordCopied,
                    Content = t.discordCopiedContent,
                    Duration = 4
                })
            end
        })
    end

    -- =============================================
    -- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø·ÙˆØ± (Developer)
    -- =============================================
    do
        Tabs.Developer:Paragraph({
            Title = t.developerName,
            Desc = t.developerDesc,
            Image = "user",
            ImageSize = 80,
            Color = Color3.fromHex("#FF6B35")
        })

        -- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·ÙˆØ±
        Tabs.Developer:Button({
            Title = t.versionButton,
            Icon = "tag",
            Size = "xlarge",
            Callback = function()
                WindUI:Notify({
                    Title = "PhantomXPro v2.1.0",
                    Content = languageChoice == "Arabic" and "Ø£Ø­Ø¯Ø« Ø¥ØµØ¯Ø§Ø± Ù…Ù† Ø§Ù„Ø³ÙƒØ±Ø¨Øª" or "Latest script version",
                    Duration = 4
                })
            end
        })

        Tabs.Developer:Button({
            Title = t.discordButton,
            Icon = "message-circle",
            Size = "xlarge",
            Callback = function()
                setclipboard("https://discord.gg/CgUa36sPNs")
                WindUI:Notify({
                    Title = t.discordCopied,
                    Content = t.discordCopiedContent,
                    Duration = 4
                })
            end
        })

        Tabs.Developer:Button({
            Title = t.contactButton,
            Icon = "mail",
            Size = "xlarge",
            Callback = function()
                setclipboard("cypherclient")
                WindUI:Notify({
                    Title = t.contactCopied,
                    Content = t.contactContent,
                    Duration = 4
                })
            end
        })
    end

    -- Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø¹Ù†Ø¯ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚
    Window:OnDestroy(function()
        WindUI:Notify({
            Title = languageChoice == "Arabic" and "Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø³ÙƒØ±Ø¨Øª" or "Script Closed",
            Content = languageChoice == "Arabic" and "ØªÙ… Ø¥ØºÙ„Ø§Ù‚ PhantomXPro Ø¨Ù†Ø¬Ø§Ø­" or "PhantomXPro closed successfully",
            Duration = 3
        })
    end)

    -- Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
    task.wait(4)
    WindUI:Notify({
        Title = t.finalTitle,
        Content = t.finalContent,
        Duration = 8
    })
else
    print("Failed to load WindUI")
end