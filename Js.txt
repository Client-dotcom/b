print("PhantomXPro Mobile")

-- =============================================
-- Ù…ÙƒØªØ¨Ø© WindUI
-- =============================================
local WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()

-- =============================================
-- Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
-- =============================================
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local Mouse = player:GetMouse()

-- =============================================
-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª WindUI
-- =============================================
WindUI.TransparencyValue = 0.3
WindUI:SetTheme("Dark")

-- =============================================
-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ©
-- =============================================
local languageChoice = nil

WindUI:Dialog({
    Title = "PhantomXPro",
    Content = "Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ© / Select Language",
    Buttons = {
        {
            Title = "Ø¹Ø±Ø¨ÙŠ",
            Variant = "Primary",
            Callback = function()
                languageChoice = "Arabic"
            end
        },
        {
            Title = "English", 
            Variant = "Primary",
            Callback = function()
                languageChoice = "English"
            end
        }
    }
})

-- Ø§Ù†ØªØ¸Ø§Ø± Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ©
local startTime = tick()
while languageChoice == nil and tick() - startTime < 5 do
    wait(0.1)
end
if languageChoice == nil then
    languageChoice = "English"
end

local t = {
    Arabic = {
        windowTitle = "PhantomXPro",
        mainTab = "Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
        mvsTab = "MVS Ø§Ù„ØªØµÙˆÙŠØ¨",
        settingsTab = "Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
        developerTab = "Ø§Ù„Ù…Ø·ÙˆØ±",
        espButton = "ESP ÙƒØ´Ù Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡",
        hitboxButton = "Hitbox ØªÙƒØ¨ÙŠØ±",
        flyButton = "Ø·ÙŠØ±Ø§Ù†",
        noclipButton = "Noclip Ø§Ù„Ù…Ø±ÙˆØ±",
        speedButton = "Ø³Ø±Ø¹Ø©",
        jumpButton = "Ù‚ÙØ² Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠ",
        aimDistance = "Ù…Ø³Ø§ÙØ© Ø§Ù„ØªØµÙˆÙŠØ¨",
        clickShoot = "ØªØµÙˆÙŠØ¨ Ø¨Ø§Ù„Ù†Ù‚Ø±",
        autoShoot = "ØªØµÙˆÙŠØ¨ ØªÙ„Ù‚Ø§Ø¦ÙŠ",
        teamESP = "ESP Ø§Ù„ÙØ±ÙŠÙ‚",
        refreshWeapons = "ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ù„Ø­Ø©",
        themeSelect = "Ø§Ø®ØªØ± Ø§Ù„Ø³Ù…Ø©",
        discordButton = "Ø§Ù†Ø¶Ù… Ù„Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯",
        updateButton = "ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³ÙƒØ±Ø¨Øª",
        closeButton = "Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø³ÙƒØ±Ø¨Øª",
        versionButton = "Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.1.0",
        developerName = "Cypher"
    },
    English = {
        windowTitle = "PhantomXPro",
        mainTab = "Main Tools",
        mvsTab = "MVS Aim",
        settingsTab = "Settings",
        developerTab = "Developer",
        espButton = "ESP Detection",
        hitboxButton = "Hitbox Enlarge",
        flyButton = "Fly",
        noclipButton = "Noclip",
        speedButton = "Speed",
        jumpButton = "Infinite Jump",
        aimDistance = "Aim Distance",
        clickShoot = "Click Shoot",
        autoShoot = "Auto Shoot",
        teamESP = "Team ESP",
        refreshWeapons = "Refresh Weapons",
        themeSelect = "Select Theme",
        discordButton = "Join Discord",
        updateButton = "Update Script",
        closeButton = "Close Script",
        versionButton = "Version 2.1.0",
        developerName = "Cypher"
    }
}

local text = t[languageChoice]

-- =============================================
-- Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø§ÙØ°Ø©
-- =============================================
local Window = WindUI:CreateWindow({
    Title = text.windowTitle,
    Icon = "gamepad-2",
    Author = "By Cypher",
    Folder = "PhantomXPro",
    Size = UDim2.fromOffset(480, 520),
    Theme = "Dark",
    User = {
        Enabled = false,
        Anonymous = true
    },
    SideBarWidth = 170,
    ScrollBarEnabled = true
})

Window:Tag({
    Title = "v2.1.0",
    Color = Color3.fromHex("#FF6B35")
})

-- =============================================
-- Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
-- =============================================
local Sections = {
    Main = Window:Section({ Title = text.mainTab, Opened = true }),
    MVS = Window:Section({ Title = text.mvsTab, Opened = false }),
    Settings = Window:Section({ Title = text.settingsTab, Opened = false }),
    Credits = Window:Section({ Title = text.developerTab, Opened = false })
}

local Tabs = {
    Main = Sections.Main:Tab({ Title = text.mainTab, Icon = "grid" }),
    MVS_Tools = Sections.MVS:Tab({ Title = text.mvsTab, Icon = "target" }),
    Config = Sections.Settings:Tab({ Title = text.settingsTab, Icon = "settings" }),
    Developer = Sections.Credits:Tab({ Title = text.developerTab, Icon = "user" })
}

-- =============================================
-- Ù†Ø¸Ø§Ù… MVS (ÙƒØ§Ù…Ù„Ø§Ù‹ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯)
-- =============================================
local MVS = {
    ClickShootEnabled = false,
    AutoShootEnabled = false,
    TeamESPEnabled = false,
    AimDistance = 250,
    CurrentWeapon = nil,
    IsWeaponEquipped = false,
    LastFireTime = 0,
    FireDelay = 1.5,
    MVSEspHighlights = {},
    BlockClick = false
}

-- Ø¯ÙˆØ§Ù„ MVS Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯
function MVS:InitializeWeaponScript()
    local character = player.Character
    if not character then return end
    
    local equippedTool
    for _, child in ipairs(character:GetChildren()) do
        if child:IsA("Tool") and child:FindFirstChild("fire") then
            equippedTool = child
            break
        end
    end
    
    if equippedTool and self.CurrentWeapon ~= equippedTool then
        self.CurrentWeapon = equippedTool
        self.IsWeaponEquipped = true
    elseif not equippedTool and self.IsWeaponEquipped then
        self.CurrentWeapon = nil
        self.IsWeaponEquipped = false
    end
end

function MVS:GetTeamFrames()
    local success, redFrame, blueFrame = pcall(function()
        local playerGui = player:FindFirstChildOfClass("PlayerGui")
        if not playerGui then return nil, nil end
        local main = playerGui:FindFirstChild("Main")
        if not main then return nil, nil end
        local mainGameFrame = main:FindFirstChild("MainGameFrame")
        if not mainGameFrame then return nil, nil end
        local playersFrame = mainGameFrame:FindFirstChild("PlayersFrame")
        if not playersFrame then return nil, nil end
        return playersFrame:FindFirstChild("TeamRedFrame"), playersFrame:FindFirstChild("TeamBlueFrame")
    end)
    return success and redFrame or nil, success and blueFrame or nil
end

function MVS:GetEnemyPlayers()
    local redFrame, blueFrame = self:GetTeamFrames()
    if not redFrame or not blueFrame then return {}, {} end
    
    local function getNames(frame)
        local names = {}
        for _, child in ipairs(frame:GetChildren()) do
            if child:IsA("Frame") then
                table.insert(names, child.Name)
            end
        end
        return names
    end
    
    local redPlayers = getNames(redFrame)
    local bluePlayers = getNames(blueFrame)
    local localName = player.Name
    
    local isInRed = table.find(redPlayers, localName)
    local isInBlue = table.find(bluePlayers, localName)
    
    if not isInRed and not isInBlue then return {}, {} end
    
    local enemyFrame = isInRed and blueFrame or redFrame
    local enemyNames = getNames(enemyFrame)
    
    local enemies = {}
    for _, name in ipairs(enemyNames) do
        local enemyPlayer = Players:FindFirstChild(name)
        if enemyPlayer and enemyPlayer ~= player then
            table.insert(enemies, enemyPlayer)
        end
    end
    
    local enemyColor = isInRed and Color3.fromRGB(0, 0, 255) or Color3.fromRGB(255, 0, 0)
    return enemies, enemyColor
end

function MVS:GetClosestPlayer()
    local players, _ = self:GetEnemyPlayers()
    local character = player.Character
    if not character then return nil end
    local hrp = character:FindFirstChild("HumanoidRootPart")
    if not hrp then return nil end
    
    local closest, minDist = nil, self.AimDistance
    for _, enemy in ipairs(players) do
        local targetChar = enemy.Character
        if targetChar then
            local targetHrp = targetChar:FindFirstChild("HumanoidRootPart")
            local targetHum = targetChar:FindFirstChild("Humanoid")
            if targetHrp and targetHum and targetHum.Health > 0 then
                local dist = (hrp.Position - targetHrp.Position).Magnitude
                if dist < minDist then
                    minDist = dist
                    closest = enemy
                end
            end
        end
    end
    return closest
end

function MVS:CanSeeTarget(targetPlayer)
    if not targetPlayer then return false end
    local character = player.Character
    local targetChar = targetPlayer.Character
    if not character or not targetChar then return false end
    
    local hrp = character:FindFirstChild("HumanoidRootPart")
    local targetHrp = targetChar:FindFirstChild("HumanoidRootPart")
    if not hrp or not targetHrp then return false end
    
    local distance = (hrp.Position - targetHrp.Position).Magnitude
    if distance > self.AimDistance then return false end
    
    local ray = Ray.new(hrp.Position, (targetHrp.Position - hrp.Position).Unit * distance)
    local part = Workspace:FindPartOnRayWithIgnoreList(ray, {character})
    
    return part and part:IsDescendantOf(targetChar)
end

function MVS:ShootLogic()
    if tick() - self.LastFireTime < self.FireDelay then return end
    self.LastFireTime = tick()
    
    if not self.IsWeaponEquipped or not self.CurrentWeapon then return end
    local target = self:GetClosestPlayer()
    if not target then return end
    if not self:CanSeeTarget(target) then return end
    
    local targetChar = target.Character
    if not targetChar then return end
    local targetHrp = targetChar:FindFirstChild("HumanoidRootPart")
    if not targetHrp then return end
    
    pcall(function()
        self.CurrentWeapon.fire:FireServer()
        local beamRemote = game:GetService("ReplicatedStorage"):FindFirstChild("LocalBeam")
        if beamRemote then
            local handle = self.CurrentWeapon:FindFirstChild("Handle") or self.CurrentWeapon
            beamRemote:Fire(handle, targetHrp.Position)
        end
    end)
end

function MVS:UpdateTeamESP()
    if not self.TeamESPEnabled then
        for _, highlight in pairs(self.MVSEspHighlights) do
            pcall(function() highlight:Destroy() end)
        end
        self.MVSEspHighlights = {}
        return
    end
    
    local enemies, color = self:GetEnemyPlayers()
    local currentEnemies = {}
    
    for _, enemy in ipairs(enemies) do
        currentEnemies[enemy] = true
        local char = enemy.Character
        if char then
            local highlight = self.MVSEspHighlights[enemy]
            if not highlight or not highlight.Parent then
                highlight = Instance.new("Highlight")
                highlight.FillColor = color
                highlight.OutlineColor = Color3.new(1, 1, 1)
                highlight.FillTransparency = 0.5
                highlight.OutlineTransparency = 0
                highlight.Parent = char
                self.MVSEspHighlights[enemy] = highlight
            end
            highlight.Adornee = char
        end
    end
    
    for enemy, highlight in pairs(self.MVSEspHighlights) do
        if not currentEnemies[enemy] then
            pcall(function() highlight:Destroy() end)
            self.MVSEspHighlights[enemy] = nil
        end
    end
end

-- =============================================
-- Ù†Ø¸Ø§Ù… ESP (ÙƒØ§Ù…Ù„Ø§Ù‹ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯)
-- =============================================
local ESP = {
    Enabled = false,
    Highlights = {}
}

function ESP:Toggle(state)
    self.Enabled = state
    
    if not state then
        for _, highlight in pairs(self.Highlights) do
            pcall(function() highlight:Destroy() end)
        end
        self.Highlights = {}
        return
    end
    
    for _, enemy in pairs(Players:GetPlayers()) do
        if enemy ~= player then
            self:AddHighlight(enemy)
        end
    end
end

function ESP:AddHighlight(targetPlayer)
    local char = targetPlayer.Character
    if not char then return end
    
    local highlight = Instance.new("Highlight")
    highlight.FillColor = Color3.fromRGB(255, 0, 0)
    highlight.OutlineColor = Color3.new(1, 1, 1)
    highlight.FillTransparency = 0.5
    highlight.OutlineTransparency = 0
    highlight.Parent = char
    highlight.Adornee = char
    
    self.Highlights[targetPlayer] = highlight
end

-- =============================================
-- Ù†Ø¸Ø§Ù… Hitbox (ÙƒØ§Ù…Ù„Ø§Ù‹ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯)
-- =============================================
local Hitbox = {
    Enabled = false,
    Size = 20
}

function Hitbox:Toggle(state)
    self.Enabled = state
    
    if not state then
        for _, otherPlayer in pairs(Players:GetPlayers()) do
            if otherPlayer ~= player and otherPlayer.Character then
                local hrp = otherPlayer.Character:FindFirstChild("HumanoidRootPart")
                if hrp then
                    hrp.Size = Vector3.new(2, 1, 1)
                end
            end
        end
        return
    end
    
    for _, otherPlayer in pairs(Players:GetPlayers()) do
        if otherPlayer ~= player and otherPlayer.Character then
            local hrp = otherPlayer.Character:FindFirstChild("HumanoidRootPart")
            if hrp then
                hrp.Size = Vector3.new(self.Size, self.Size, self.Size)
            end
        end
    end
end

-- =============================================
-- Ù†Ø¸Ø§Ù… Noclip (ÙƒØ§Ù…Ù„Ø§Ù‹ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯)
-- =============================================
local Noclip = {
    Enabled = false
}

function Noclip:Toggle(state)
    self.Enabled = state
    
    if state then
        coroutine.wrap(function()
            while self.Enabled do
                wait(0.1)
                if player.Character then
                    for _, part in pairs(player.Character:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanCollide = false
                        end
                    end
                end
            end
        end)()
    end
end

-- =============================================
-- Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ø±Ø¹Ø© (ÙƒØ§Ù…Ù„Ø§Ù‹ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯)
-- =============================================
local SpeedHack = {
    Enabled = false,
    Speed = 50
}

function SpeedHack:Toggle(state)
    self.Enabled = state
    
    if state then
        coroutine.wrap(function()
            while self.Enabled and player.Character do
                wait()
                local humanoid = player.Character:FindFirstChild("Humanoid")
                if humanoid then
                    humanoid.WalkSpeed = self.Speed
                end
            end
        end)()
    else
        if player.Character then
            local humanoid = player.Character:FindFirstChild("Humanoid")
            if humanoid then
                humanoid.WalkSpeed = 16
            end
        end
    end
end

-- =============================================
-- Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚ÙØ² Ø§Ù„Ù„Ø§Ù†Ù‡Ø§Ø¦ÙŠ (ÙƒØ§Ù…Ù„Ø§Ù‹ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯)
-- =============================================
local InfiniteJump = {
    Enabled = false
}

function InfiniteJump:Toggle(state)
    self.Enabled = state
    
    if state then
        game:GetService("UserInputService").JumpRequest:Connect(function()
            if self.Enabled and player.Character then
                local humanoid = player.Character:FindFirstChild("Humanoid")
                if humanoid then
                    humanoid:ChangeState("Jumping")
                end
            end
        end)
    end
end

-- =============================================
-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
-- =============================================
do
    -- ESP
    Tabs.Main:Toggle({
        Title = text.espButton,
        Icon = "eye",
        Desc = languageChoice == "Arabic" and "Ø§Ø¸Ù‡Ø± Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡" or "Show enemies",
        Callback = function(state)
            ESP:Toggle(state)
            WindUI:Notify({
                Title = "ESP",
                Content = state and "âœ… Enabled" or "âŒ Disabled",
                Duration = 3
            })
        end
    })
    
    -- Hitbox
    Tabs.Main:Toggle({
        Title = text.hitboxButton,
        Icon = "target",
        Desc = languageChoice == "Arabic" and "ØªÙƒØ¨ÙŠØ± Ù‡ÙŠØª Ø¨ÙˆÙƒØ³" or "Enlarge hitbox",
        Callback = function(state)
            Hitbox:Toggle(state)
            WindUI:Notify({
                Title = "Hitbox",
                Content = state and "âœ… Enabled" or "âŒ Disabled",
                Duration = 3
            })
        end
    })
    
    -- Hitbox Size
    Tabs.Main:Slider({
        Title = languageChoice == "Arabic" and "Ø­Ø¬Ù… Ø§Ù„Ù‡ÙŠØª Ø¨ÙˆÙƒØ³" or "Hitbox Size",
        Desc = "1 Ø¥Ù„Ù‰ 50",
        Value = 20,
        Min = 1,
        Max = 50,
        Step = 1,
        Callback = function(value)
            Hitbox.Size = value
            if Hitbox.Enabled then
                Hitbox:Toggle(true)
            end
            WindUI:Notify({
                Title = "Hitbox Size",
                Content = "Size: " .. value,
                Duration = 2
            })
        end
    })
    
    -- Fly (Ù‡Ø°Ø§ Ø§Ù„ÙˆØ­ÙŠØ¯ Ø¨Ù€ loadstring)
    Tabs.Main:Toggle({
        Title = text.flyButton,
        Icon = "wind",
        Desc = languageChoice == "Arabic" and "ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø·ÙŠØ±Ø§Ù†" or "Enable flying",
        Callback = function(state)
            if state then
                loadstring(game:HttpGet("https://pastebin.com/raw/5WLxDDvL", true))()
                WindUI:Notify({
                    Title = "Fly",
                    Content = "âœ… Enabled",
                    Duration = 3
                })
            else
                local humanoid = player.Character and player.Character:FindFirstChild("Humanoid")
                if humanoid then
                    humanoid.PlatformStand = false
                end
                WindUI:Notify({
                    Title = "Fly",
                    Content = "âŒ Disabled",
                    Duration = 3
                })
            end
        end
    })
    
    -- Noclip
    Tabs.Main:Toggle({
        Title = text.noclipButton,
        Icon = "ghost",
        Desc = languageChoice == "Arabic" and "Ø§Ù„Ù…Ø±ÙˆØ± Ø¹Ø¨Ø± Ø§Ù„Ø¬Ø¯Ø±Ø§Ù†" or "Walk through walls",
        Callback = function(state)
            Noclip:Toggle(state)
            WindUI:Notify({
                Title = "Noclip",
                Content = state and "âœ… Enabled" or "âŒ Disabled",
                Duration = 3
            })
        end
    })
    
    -- Speed
    Tabs.Main:Toggle({
        Title = text.speedButton,
        Icon = "zap",
        Desc = languageChoice == "Arabic" and "Ø²ÙŠØ§Ø¯Ø© Ø³Ø±Ø¹Ø© Ø§Ù„Ù…Ø´ÙŠ" or "Increase walk speed",
        Callback = function(state)
            SpeedHack:Toggle(state)
            WindUI:Notify({
                Title = "Speed",
                Content = state and "âœ… Enabled" or "âŒ Disabled",
                Duration = 3
            })
        end
    })
    
    -- Speed Value
    Tabs.Main:Slider({
        Title = languageChoice == "Arabic" and "Ù…Ù‚Ø¯Ø§Ø± Ø§Ù„Ø³Ø±Ø¹Ø©" or "Speed Amount",
        Desc = "16 Ø¥Ù„Ù‰ 100",
        Value = 50,
        Min = 16,
        Max = 100,
        Step = 1,
        Callback = function(value)
            SpeedHack.Speed = value
            if SpeedHack.Enabled then
                SpeedHack:Toggle(true)
            end
            WindUI:Notify({
                Title = "Speed",
                Content = "Speed: " .. value,
                Duration = 2
            })
        end
    })
    
    -- Infinite Jump
    Tabs.Main:Toggle({
        Title = text.jumpButton,
        Icon = "chevrons-up",
        Desc = languageChoice == "Arabic" and "Ø§Ù„Ù‚ÙØ² Ø¨Ø¯ÙˆÙ† ØªÙˆÙ‚Ù" or "Jump without stopping",
        Callback = function(state)
            InfiniteJump:Toggle(state)
            WindUI:Notify({
                Title = "Jump",
                Content = state and "âœ… Enabled" or "âŒ Disabled",
                Duration = 3
            })
        end
    })
end

-- =============================================
-- ØªØ¨ÙˆÙŠØ¨ MVS
-- =============================================
do
    -- Aim Distance
    Tabs.MVS_Tools:Input({
        Title = text.aimDistance,
        Desc = "1 Ø¥Ù„Ù‰ 10000",
        Placeholder = "250",
        Default = "250",
        Callback = function(value)
            local num = tonumber(value)
            if num then
                MVS.AimDistance = math.clamp(num, 1, 10000)
                WindUI:Notify({
                    Title = "Aim Distance",
                    Content = "Set to: " .. MVS.AimDistance,
                    Duration = 3
                })
            end
        end
    })
    
    -- Click Shoot
    Tabs.MVS_Tools:Toggle({
        Title = text.clickShoot,
        Icon = "mouse-pointer",
        Callback = function(state)
            MVS.ClickShootEnabled = state
            WindUI:Notify({
                Title = "Click Shoot",
                Content = state and "âœ… Enabled" or "âŒ Disabled",
                Duration = 3
            })
        end
    })
    
    -- Auto Shoot
    Tabs.MVS_Tools:Toggle({
        Title = text.autoShoot,
        Icon = "zap",
        Callback = function(state)
            MVS.AutoShootEnabled = state
            WindUI:Notify({
                Title = "Auto Shoot",
                Content = state and "âœ… Enabled" or "âŒ Disabled",
                Duration = 3
            })
        end
    })
    
    -- Team ESP
    Tabs.MVS_Tools:Toggle({
        Title = text.teamESP,
        Icon = "users",
        Callback = function(state)
            MVS.TeamESPEnabled = state
            WindUI:Notify({
                Title = "Team ESP",
                Content = state and "âœ… Enabled" or "âŒ Disabled",
                Duration = 3
            })
        end
    })
    
    -- Refresh Weapons
    Tabs.MVS_Tools:Button({
        Title = text.refreshWeapons,
        Icon = "refresh-cw",
        Callback = function()
            MVS:InitializeWeaponScript()
            WindUI:Notify({
                Title = "Weapons",
                Content = "âœ… Refreshed",
                Duration = 3
            })
        end
    })
end

-- =============================================
-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
-- =============================================
do
    -- Theme
    Tabs.Config:Dropdown({
        Title = text.themeSelect,
        Values = {"Dark ðŸŒ™", "Light â˜€ï¸", "Blue ðŸ”µ", "Green ðŸ’š", "Red ðŸ”´"},
        Value = "Dark ðŸŒ™",
        Callback = function(value)
            local themeMap = {
                ["Dark ðŸŒ™"] = "Dark",
                ["Light â˜€ï¸"] = "Light",
                ["Blue ðŸ”µ"] = "Sapphire",
                ["Green ðŸ’š"] = "Emerald",
                ["Red ðŸ”´"] = "Ruby"
            }
            WindUI:SetTheme(themeMap[value])
            WindUI:Notify({
                Title = "Theme",
                Content = "Changed to: " .. value,
                Duration = 2
            })
        end
    })
    
    -- Discord
    Tabs.Config:Button({
        Title = text.discordButton,
        Icon = "message-circle",
        Callback = function()
            setclipboard("https://discord.gg/CgUa36sPNs")
            WindUI:Notify({
                Title = "Discord",
                Content = "âœ… Link copied",
                Duration = 4
            })
        end
    })
    
    -- Update
    Tabs.Config:Button({
        Title = text.updateButton,
        Icon = "refresh-cw",
        Callback = function()
            WindUI:Notify({
                Title = "Update",
                Content = "âœ… Updating...",
                Duration = 3
            })
        end
    })
    
    -- Close
    Tabs.Config:Button({
        Title = text.closeButton,
        Icon = "power",
        Callback = function()
            Window:Destroy()
            WindUI:Notify({
                Title = "Closed",
                Content = "âœ… Script closed",
                Duration = 3
            })
        end
    })
end

-- =============================================
-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø·ÙˆØ±
-- =============================================
do
    Tabs.Developer:Paragraph({
        Title = text.developerName,
        Desc = languageChoice == "Arabic" and "Ù…Ø·ÙˆØ± Ø³ÙƒØ±Ø¨ØªØ§Øª Ø±ÙˆØ¨Ù„ÙˆÙƒØ³" or "Roblox Script Developer",
        Image = "user",
        ImageSize = 60,
        Color = Color3.fromHex("#FF6B35")
    })
    
    Tabs.Developer:Button({
        Title = text.versionButton,
        Icon = "tag",
        Callback = function()
            WindUI:Notify({
                Title = "Version",
                Content = "PhantomXPro v2.1.0",
                Duration = 4
            })
        end
    })
    
    Tabs.Developer:Button({
        Title = text.discordButton,
        Icon = "message-circle",
        Callback = function()
            setclipboard("https://discord.gg/CgUa36sPNs")
            WindUI:Notify({
                Title = "Discord",
                Content = "âœ… Link copied",
                Duration = 4
            })
        end
    })
    
    Tabs.Developer:Button({
        Title = languageChoice == "Arabic" and "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" or "Username",
        Icon = "at-sign",
        Callback = function()
            setclipboard("cypherclient")
            WindUI:Notify({
                Title = "Username",
                Content = "âœ… Copied: cypherclient",
                Duration = 4
            })
        end
    })
end

-- =============================================
-- Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
-- =============================================

-- MVS Auto Systems
task.spawn(function()
    while wait(1) do
        MVS:InitializeWeaponScript()
    end
end)

task.spawn(function()
    while RunService.Heartbeat:Wait() do
        if MVS.AutoShootEnabled and MVS.IsWeaponEquipped then
            MVS:ShootLogic()
        end
    end
end)

Mouse.Button1Down:Connect(function()
    if MVS.ClickShootEnabled and MVS.IsWeaponEquipped then
        MVS:ShootLogic()
    end
end)

task.spawn(function()
    while RunService.Heartbeat:Wait() do
        if MVS.TeamESPEnabled then
            MVS:UpdateTeamESP()
        end
    end
end)

-- ESP Auto Update
task.spawn(function()
    while RunService.Heartbeat:Wait() do
        if ESP.Enabled then
            for _, enemy in pairs(Players:GetPlayers()) do
                if enemy ~= player and not ESP.Highlights[enemy] then
                    ESP:AddHighlight(enemy)
                end
            end
        end
    end
end)

-- Backpack Listener
if player.Backpack then
    player.Backpack.ChildAdded:Connect(function(child)
        if child:IsA("Tool") then
            wait(0.1)
            MVS:InitializeWeaponScript()
        end
    end)
end

-- =============================================
-- ØªÙ†Ø¸ÙŠÙ Ø¹Ù†Ø¯ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚
-- =============================================
Window:OnDestroy(function()
    for _, highlight in pairs(MVS.MVSEspHighlights) do
        pcall(function() highlight:Destroy() end)
    end
    for _, highlight in pairs(ESP.Highlights) do
        pcall(function() highlight:Destroy() end)
    end
end)

-- =============================================
-- Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
-- =============================================
wait(1)
WindUI:Notify({
    Title = "âœ… PhantomXPro",
    Content = languageChoice == "Arabic" and "Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…!" or "Ready to use!",
    Duration = 5
})

print("PhantomXPro loaded successfully!")